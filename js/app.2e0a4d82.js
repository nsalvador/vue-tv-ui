(function(e){function t(t){for(var r,a,o=t[0],s=t[1],i=t[2],h=0,d=[];h<o.length;h++)a=o[h],Object.prototype.hasOwnProperty.call(c,a)&&c[a]&&d.push(c[a][0]),c[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);f&&f(t);while(d.length)d.shift()();return u.push.apply(u,i||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],r=!0,a=1;a<n.length;a++){var o=n[a];0!==c[o]&&(r=!1)}r&&(u.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},c={app:0},u=[];function o(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-2d21f0f6":"2dc303ce","chunk-629991e3":"eed2513e","chunk-6728c530":"ed5e5e93","chunk-781a52d2":"e06ff887","chunk-4589b8fe":"baed2a25","chunk-5d957dec":"db0c01d2","chunk-070c20ce":"72ca14ea","chunk-74b7579c":"f314ce84","chunk-2d0d6d35":"4a2e5cd3","chunk-2d0f0e03":"83ab15a9","chunk-adb42212":"e3b02bee","chunk-82844aa8":"d3f49d31","chunk-bb65ece0":"44e326e9","chunk-0c4b07c0":"a5830e2c","chunk-787a4d86":"63bdcee9","chunk-6df33110":"5c6a590c","chunk-5a6ecc18":"664a8405","chunk-7e26cc98":"ce5b4ff4","chunk-2d0c7334":"119c217d","chunk-ac51768c":"27e18a07","chunk-2d0e9b04":"068a68a6","chunk-532f5bbc":"aea661da","chunk-2d0bce42":"ab1817ef","chunk-461985c8":"2ffa4532","chunk-2d0be162":"82006a5d","chunk-2d0c7325":"e2a03caa"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-629991e3":1,"chunk-6728c530":1,"chunk-781a52d2":1,"chunk-4589b8fe":1,"chunk-5d957dec":1,"chunk-070c20ce":1,"chunk-74b7579c":1,"chunk-adb42212":1,"chunk-82844aa8":1,"chunk-bb65ece0":1,"chunk-0c4b07c0":1,"chunk-787a4d86":1,"chunk-6df33110":1,"chunk-5a6ecc18":1,"chunk-ac51768c":1,"chunk-532f5bbc":1,"chunk-461985c8":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-2d21f0f6":"31d6cfe0","chunk-629991e3":"f3d97644","chunk-6728c530":"ce9e4fb0","chunk-781a52d2":"dea53334","chunk-4589b8fe":"9ad00e58","chunk-5d957dec":"a651a447","chunk-070c20ce":"46a76e1e","chunk-74b7579c":"3dad92e7","chunk-2d0d6d35":"31d6cfe0","chunk-2d0f0e03":"31d6cfe0","chunk-adb42212":"b7ac6fa3","chunk-82844aa8":"b872bac8","chunk-bb65ece0":"e5ec3ebc","chunk-0c4b07c0":"36c00b66","chunk-787a4d86":"369b2a75","chunk-6df33110":"8f7d7ffc","chunk-5a6ecc18":"201d2e42","chunk-7e26cc98":"31d6cfe0","chunk-2d0c7334":"31d6cfe0","chunk-ac51768c":"034b6224","chunk-2d0e9b04":"31d6cfe0","chunk-532f5bbc":"cb1cc76e","chunk-2d0bce42":"31d6cfe0","chunk-461985c8":"5efec241","chunk-2d0be162":"31d6cfe0","chunk-2d0c7325":"31d6cfe0"}[e]+".css",c=s.p+r,u=document.getElementsByTagName("link"),o=0;o<u.length;o++){var i=u[o],h=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(h===r||h===c))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){i=d[o],h=i.getAttribute("data-href");if(h===r||h===c)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||c,u=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");u.code="CSS_CHUNK_LOAD_FAILED",u.request=r,delete a[e],f.parentNode.removeChild(f),n(u)},f.href=c;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){a[e]=0})));var r=c[e];if(0!==r)if(r)t.push(r[2]);else{var u=new Promise((function(t,n){r=c[e]=[t,n]}));t.push(r[2]=u);var i,h=document.createElement("script");h.charset="utf-8",h.timeout=120,s.nc&&h.setAttribute("nonce",s.nc),h.src=o(e);var d=new Error;i=function(t){h.onerror=h.onload=null,clearTimeout(f);var n=c[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}c[e]=void 0}};var f=setTimeout((function(){i({type:"timeout",target:h})}),12e4);h.onerror=h.onload=i,document.head.appendChild(h)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/vue-tv-ui/",s.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],h=i.push.bind(i);i.push=t,i=i.slice();for(var d=0;d<i.length;d++)t(i[d]);var f=h;u.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=n("1dce"),c=n.n(a),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("app-header"),n("app-drawer"),n("app-view"),n("app-footer"),n("app-snackbar")],1)},o=[],s=(n("d3b7"),n("96cf"),n("1da1")),i={name:"App",created:function(){var e=this;this.$vuetify.theme.dark=!0,this.$http.interceptors.response.use(void 0,function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:throw 401===n.status&&n.config&&!n.config.__isRetryRequest&&e.$store.dispatch("auth/logout"),n;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},mounted:function(){document.documentElement.style.overflow="auto";var e=sessionStorage.getItem("path");e&&(sessionStorage.removeItem("path"),this.$router.push({path:e}))},components:{AppHeader:function(){return Promise.all([n.e("chunk-bb65ece0"),n.e("chunk-781a52d2"),n.e("chunk-5d957dec"),n.e("chunk-070c20ce"),n.e("chunk-0c4b07c0")]).then(n.bind(null,"262f"))},AppDrawer:function(){return Promise.all([n.e("chunk-781a52d2"),n.e("chunk-4589b8fe")]).then(n.bind(null,"41c0"))},AppView:function(){return n.e("chunk-6728c530").then(n.bind(null,"9306"))},AppFooter:function(){return Promise.all([n.e("chunk-bb65ece0"),n.e("chunk-781a52d2"),n.e("chunk-787a4d86")]).then(n.bind(null,"7a74"))},AppSnackbar:function(){return n.e("chunk-629991e3").then(n.bind(null,"ff0a"))}}},h=i,d=n("2877"),f=n("6544"),p=n.n(f),l=n("7496"),m=Object(d["a"])(h,u,o,!1,null,null,null),k=m.exports;p()(m,{VApp:l["a"]});var b=n("f309");r["a"].use(b["a"]);var g=new b["a"]({}),v=n("2f62"),w={isLoggedIn:function(e){return!!e.token}},S={auth_success:function(e,t){e.token=t},logout:function(e){e.token=""}},y=n("d4ec"),O=n("bee2"),E=n("bc3a"),x=n.n(E),R=function(){function e(){Object(y["a"])(this,e)}return Object(O["a"])(e,[{key:"register",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x()({url:"".concat("https://vue-tv-api.herokuapp.com","/users/register"),method:"post",data:t});case 2:return n=e.sent,r=n.data.token,sessionStorage.setItem("token",r),x.a.defaults.headers.common["Authorization"]="Bearer ".concat(r),e.abrupt("return",n.data.token);case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"login",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x()({url:"".concat("https://vue-tv-api.herokuapp.com","/users/login"),method:"post",data:t});case 2:return n=e.sent,r=n.data.token,sessionStorage.setItem("token",r),x.a.defaults.headers.common["Authorization"]="Bearer ".concat(r),e.abrupt("return",n.data.token);case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"logout",value:function(){sessionStorage.removeItem("token"),delete x.a.defaults.headers.common["Authorization"]}}]),e}(),_=new R,j={register:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,_.register(t);case 3:a=n.sent,r("auth_success",a);case 5:case"end":return n.stop()}}),n)})))()},login:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,n.next=3,_.login(t);case 3:a=n.sent,r("auth_success",a);case 5:case"end":return n.stop()}}),n)})))()},logout:function(e){var t=e.commit;_.logout(),t("logout")}},T={token:sessionStorage.getItem("token")||""},A=!0,I={namespaced:A,state:T,getters:w,mutations:S,actions:j},P=(n("a434"),n("b0c0"),n("b64b"),{GET_SERIES:function(e){if(0===Object.keys(e.series).length)return{};var t=e.series,n=t.name,r=t.series,a=t.page,c=12,u=r.length,o=Math.floor(u/c)+(u%c!==0?1:0);return{name:n,results:u,page:a,pages:o,series:r.splice((a-1)*c,c)}}}),L={SET_SERIES:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r["a"].set(e,"series",t),0!==Object.keys(t).length&&sessionStorage.setItem("series",JSON.stringify(t))},SET_PAGE:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return r["a"].set(e,"page",t)},SET_LOADING:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].set(e,"isLoading",t)}},N=n("5530"),C=function(){function e(){Object(y["a"])(this,e)}return Object(O["a"])(e,[{key:"searchShow",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x()({url:"".concat("https://vue-tv-api.herokuapp.com","/shows/search"),method:"post",data:{show:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"subscribeToShow",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x()({url:"".concat("https://vue-tv-api.herokuapp.com","/shows"),method:"post",data:t});case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getShows",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x()({url:"".concat("https://vue-tv-api.herokuapp.com","/shows"),method:"get"});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),G=new C,$={search:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,a,c,u,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=e.commit,a=e.state,u=sessionStorage.getItem("series"),u&&JSON.parse(u).name===t){n.next=9;break}return n.next=5,G.searchShow(t);case 5:o=n.sent,c={name:t,page:a.page,series:o},n.next=10;break;case 9:c=Object(N["a"])({},JSON.parse(u),{page:a.page});case 10:r("SET_SERIES",c);case 11:case"end":return n.stop()}}),n)})))()}},B={series:{},page:1,isLoading:!1},D=!0,H={namespaced:D,state:B,getters:P,mutations:L,actions:$},J={SET_DRAWER:function(e,t){return r["a"].set(e,"drawer",t)},TOGGLE_DRAWER:function(e){var t=e.drawer;r["a"].set(e,"drawer",!t)}},M={drawer:!1},q=!0,W={namespaced:q,state:M,mutations:J},z={subscribeToShow:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.dispatch,n.next=3,G.subscribeToShow(t);case 3:return n.next=5,r("getShows");case 5:case"end":return n.stop()}}),n)})))()},getShows:function(e){return Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,G.getShows();case 3:r=t.sent,n("SET_SHOWS",r);case 5:case"end":return t.stop()}}),t)})))()}},K={GET_SHOWS:function(e){return e.shows}},F={SET_SHOWS:function(e,t){r["a"].set(e,"shows",t),0!==t.length&&sessionStorage.setItem("shows",JSON.stringify(t))}},V={shows:[]},U=!0,Q={namespaced:U,state:V,getters:K,mutations:F,actions:z},X=(n("4de4"),{GET_LINKS:function(e){return function(t){return"mid"!==t?e.links.filter((function(e){return e.text===t}))[0]:e.links.filter((function(e){return"Register"===e.text||"Log In"===e.text}))}}}),Y={SET_ERROR:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r["a"].set(e,"error",t)},SET_ERROR_MESSAGE:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";r["a"].set(e,"message",t),r["a"].set(e,"snackbar",!!t)},SET_SNACKBAR:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r["a"].set(e,"snackbar",t)},SET_SELECTION:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r["a"].set(e,"selection",t)}},Z={links:[{text:"Home",to:"/"},{text:"Register",to:"/register"},{text:"Log In",to:"/login"},{text:"Subscriptions",to:"/subscription"},{text:"Log Out"}],message:"",snackbar:!1,error:null,selection:[]};r["a"].use(v["a"]);var ee=new v["a"].Store({modules:{auth:I,search:H,drawer:W,show:Q},state:Z,getters:X,mutations:Y}),te=(n("45fc"),n("8c4f"));r["a"].use(te["a"]);var ne=[{path:"/",component:function(){return Promise.all([n.e("chunk-781a52d2"),n.e("chunk-adb42212")]).then(n.bind(null,"bb51"))},name:"home"},{path:"/search",component:function(){return n.e("chunk-82844aa8").then(n.bind(null,"2d3b"))},name:"search"},{path:"/register",component:function(){return Promise.all([n.e("chunk-781a52d2"),n.e("chunk-5d957dec"),n.e("chunk-070c20ce"),n.e("chunk-74b7579c"),n.e("chunk-2d0d6d35")]).then(n.bind(null,"73cf"))},name:"register"},{path:"/login",component:function(){return Promise.all([n.e("chunk-781a52d2"),n.e("chunk-5d957dec"),n.e("chunk-070c20ce"),n.e("chunk-74b7579c"),n.e("chunk-2d0f0e03")]).then(n.bind(null,"9ddf"))},name:"login"},{path:"/subscription",component:function(){return n.e("chunk-2d21f0f6").then(n.bind(null,"d7e2"))},name:"subscription",meta:{requiresAuth:!0}}],re=new te["a"]({mode:"history",routes:ne,base:"/vue-tv-ui/"});re.beforeEach((function(e,t,n){if(e.matched.some((function(e){return e.meta.requiresAuth}))){var r=ee.getters["auth/isLoggedIn"];if(r)return n();n({name:"login"})}else n()}));var ae=re;r["a"].prototype.$http=x.a;var ce=sessionStorage.getItem("token");ce&&(r["a"].prototype.$http.defaults.headers.common["Authorization"]="Bearer ".concat(ce)),r["a"].use(c.a),r["a"].config.productionTip=!1,new r["a"]({store:ee,router:ae,vuetify:g,render:function(e){return e(k)}}).$mount("#app")}});
//# sourceMappingURL=app.2e0a4d82.js.map